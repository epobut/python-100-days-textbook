## Структуры циклов

### Применение циклов

Использование компьютера для выполнения какой-либо работы — это всегда повторение множества операций. Каждая задача в компьютере, от её начала и до завершения, является циклом. Любая задача может быть выражена через три базовые структуры: последовательная, ветвление (условная) и циклическая. Как вы можете понять по их названиям, **последовательная структура** означает, что программа выполняет инструкции строго в том порядке, как они написаны; **ветвление (условная) структура** означает, что программа по заданному условию выбирает различный порядок выполнения; а **циклическая структура** означает, что программа снова и снова выполняет одни и те же инструкции в соответствии с данным условием. Так как каждая задача состоит из множества повторяющихся операций, **циклическая структура является важной структурой программ**. На этом этапе мы разберём, как использовать циклические структуры в программах на Python.

### Цикл for-in

В Python, если заранее известно, сколько раз должен повторяться цикл, рекомендуется использовать цикл `for-in`, например:

**Пример 1**: вычислить сумму чисел от `1` до `100`.

```python
"""
Вычисление суммы от 1 до 100

Author: 骆昊
Version: 1.0
"""
total = 0
for i in range(1, 101):
    total += i
print(total)
```

> **Пояснение**: функция `range` позволяет создать диапазон (интервал) целых чисел. Существует три способа её применения:
>
> - `range(101)` формирует целые числа от `0` до `100`.
> - `range(1, 101)` формирует целые числа от `1` до `100`, где первый параметр — начальное значение, второй — конечное (не включается в результат).
> - `range(1, 101, 2)` формирует нечётные числа от `1` до `100`, где третий параметр — это шаг изменения (прирост). Например, `range(100, 0, -2)` формирует чётные числа от `100` до `2` по убыванию.

**Пример 2**: вычислить сумму всех чётных чисел в диапазоне от `1` до `100`.

```python
"""
Вычисление суммы всех чётных чисел от 1 до 100

Author: 骆昊
Version: 1.0
"""
total = 0
for i in range(2, 101, 2):
    total += i
print(total)
```

Другой способ решения той же задачи:

```python
"""
Вычисление суммы всех чётных чисел от 1 до 100

Author: 骆昊
Version: 1.0
"""
total = 0
for i in range(1, 101):
    if i % 2 == 0:
        total += i
print(total)
```

### Цикл while

Цикл `while` используется для создания неопределённого (условного) цикла (не заранее определённое количество повторов), и его структура выглядит следующим образом:

```python
while условие:
    блок инструкций
```

В цикле `while` выполнение продолжается до тех пор, пока условие истинно; как только условие становится ложным, цикл завершается. Используя цикл `while`, можно записать «игру в угадывание числа» следующим образом:

**Пример 3**: игра в угадывание числа.

```python
"""
Игра в угадывание числа

Author: 骆昊
Version: 1.0
"""
import random

# Сгенерировать случайное число от 1 до 100
answer = random.randint(1, 100)
counter = 0

while True:
    counter += 1
    guess = int(input('Введите: '))
    if guess < answer:
        print('Больше')
    elif guess > answer:
        print('Меньше')
    else:
        print('Поздравляем!')
        break

print(f'Вы угадали за {counter} попыток')
```

> **Пояснение**: в модуле `random` есть функция `randint`, позволяющая генерировать случайное целое число в заданном диапазоне. Первый параметр — минимальное значение, второй — максимальное. Также обратите внимание: в коде выше используется инструкция `break` для преждевременного выхода из цикла. Подробнее об этом рассказано ниже.

### Применение break и continue

Инструкция `break` позволяет выйти из цикла досрочно, а `continue` — пропустить оставшиеся инструкции в текущей итерации и перейти к следующей. Они используются совместно с ветвлениями, чтобы менять ход выполнения цикла в зависимости от условий.

**Пример 4**: найти все простые числа от `1` до `100`.

```python
"""
Найти все простые числа от 1 до 100

Author: 骆昊
Version: 1.0
"""
for num in range(2, 101):
    is_prime = True
    for factor in range(2, num):
        if num % factor == 0:
            is_prime = False
            break
    if is_prime:
        print(num, end=' ')
```

### Цикл for-in с else

Примечательно, что в Python циклы `for` и `while` могут иметь `else`-блок, который выполняется, если цикл завершился естественно (без `break`). Этот блок можно использовать для выполнения дополнительной логики, например, для вывода сообщения или обновления состояния программы.

**Пример 5**: найти простые числа от `1` до `100` (с использованием `else`-блока).

```python
"""
Найти все простые числа от 1 до 100

Author: 骆昊
Version: 1.0
"""
for num in range(2, 101):
    is_prime = True
    for factor in range(2, int(num ** 0.5) + 1):
        if num % factor == 0:
            is_prime = False
            break
    if is_prime:
        print(num, end=' ')
```

### Вложенные циклические структуры

Подобно тому, как условные структуры могут быть вложенными, циклические структуры также могут быть вложенными друг в друга, т.е. один цикл может содержать другой. Рассмотрим следующий пример.

**Пример 6**: вывести фигуру с помощью вложенных циклов.

```python
"""
Вывести звёздочки

*
**
***
****
*****

Author: 骆昊
Version: 1.0
"""
for i in range(1, 6):
    for j in range(1, i + 1):
        print('*', end='')
    print()
```

```python
"""
Вывести звёздочки

    *
   **
  ***
 ****
*****

Author: 骆昊
Version: 1.0
"""
for i in range(1, 6):
    for j in range(1, 6 - i):
        print(' ', end='')
    for k in range(1, i + 1):
        print('*', end='')
    print()
```

```python
"""
Вывести звёздочки

    *
   ***
  *****
 *******
*********

Author: 骆昊
Version: 1.0
"""
for i in range(1, 6):
    for j in range(1, 6 - i):
        print(' ', end='')
    for k in range(1, 2 * i):
        print('*', end='')
    print()
```

### Упражнения

#### Упражнение 1: вывести все цифры в числе

**Описание**: введите целое число и выведите на экран все его цифры по порядку (цифры выводятся с новой строки).

**Подсказка**: можно воспользоваться модулем оператора остатка от деления и целочисленного деления, чтобы последовательно получить каждую цифру числа. Конечно, можно также сначала преобразовать число в строку, а потом перебрать все символы в строке.

#### Упражнение 2: вычислить сумму положительных и отрицательных чисел

**Описание**: введите ненулевое целое число, если введённое значение равно `0`, то завершите ввод. После этого вычислите и выведите сумму всех введённых положительных чисел и сумму всех введённых отрицательных чисел.

#### Упражнение 3: вывести таблицу умножения

**Описание**: выведите на экран таблицу умножения 9×9.

```
1*1=1
1*2=2 2*2=4
1*3=3 2*3=6 3*3=9
1*4=4 2*4=8 3*4=12 4*4=16
1*5=5 2*5=10 3*5=15 4*5=20 5*5=25
1*6=6 2*6=12 3*6=18 4*6=24 5*6=30 6*6=36
1*7=7 2*7=14 3*7=21 4*7=28 5*7=35 6*7=42 7*7=49
1*8=8 2*8=16 3*8=24 4*8=32 5*8=40 6*8=48 7*8=56 8*8=64
1*9=9 2*9=18 3*9=27 4*9=36 5*9=45 6*9=54 7*9=63 8*9=72 9*9=81
```

#### Упражнение 4: найти совершенные числа

**Описание**: совершенное число (Perfect number) — это натуральное число, равное сумме всех своих положительных делителей (исключая само это число). Например, первое совершенное число — `6`, его делители — `1`, `2`, `3`, и `1 + 2 + 3 = 6`. Напишите программу, которая найдёт все совершенные числа от `1` до `10000`.

#### Упражнение 5: вывести фигуру из ромбов

**Описание**: выведите на экран фигуру из ромбов размером `10×10`, используя символы `*`.

```
    *
   ***
  *****
 *******
*********
*********
 *******
  *****
   ***
    *
```
